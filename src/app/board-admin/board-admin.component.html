<main class="main-wrapper col-md-9 ms-sm-auto py-4 col-lg-9 px-md-4 border-start">

<div class="container mt-4">
    <h2>All Users</h2>
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <th scope="col">id</th>
                    <th scope="col">Username</th>
                    <th scope="col">Email</th>
                    <th scope="col">Picture</th>
                    <th scope="col">Statuts</th>
                    <th scope="col">Actions</th>
                    <th scope="col">Actions</th>

                </tr>
            </thead>
            <tbody>
                <!-- Boucle sur les utilisateurs -->
                <tr *ngFor="let user of users">
                    <th scope="row">{{ user.id }}</th>
                    <td class="col-md-2">{{ user.username }}</td>
                    <td class="col-md-2">{{ user.email }}</td>
                    <td class="col-md-1">
                        <img [src]="user.image" alt="Avatar" width="40" height="40" class="rounded-circle">
                    </td>
                      <td class="col-md-1">{{ user.status }}</td> <!-- Colonne pour afficher le statut -->
                    <td class="col-md-2">
                        <button type="button" class="btn btn-success btn-sm" (click)="activateUser(user.id)" *ngIf="user.status === 'BANNED'">
                            <i class="bi bi-check"></i> Activate
                        </button>
                    </td>
                    
                    <td class="col-md-2">
                        <button type="button" class="btn btn-danger btn-sm" (click)="deleteUser(user.id)">
                             <i class="bi bi-trash"></i> Delete
                        </button>

                </tr>
                
            </tbody>
        </table>
        <pagination-controls (pageChange)="pageChanged($event)" [autoHide]="true"></pagination-controls>

    </div>
    <div *ngIf="userStats">
       
        <div>
          <canvas id="userStatsChart"></canvas>
        </div>
      </div>
      <div>
        <canvas id="performanceChart"></canvas>
      </div>
</div>
</main>